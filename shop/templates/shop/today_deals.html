{% load static %}

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'shop/css/root-home.css' %}" />

    <title>Home</title>
  </head>
  <body>

    <div id="root" class="root-home">
        <div id="navbar">
            {% include 'shop/navbar.html' %}
            <br>
            <div id="product-list" class="container">
              <div class="product">
                {% for data in product_data %}
                <div class="card" style="width: 18rem;">
                  <img id="custom-product-card-image" src="{{media_url}}{{ data.image }}" class="card-img-top" alt="Product Image Not Found ðŸ¥º">
                  <div class="card-body">
                    <p id="custom-card-title" class="card-title">{{data.name}}</p>
                    <div id="produc-pricing">
                      <div id="product-offer-and-price">
                        <span id="product-percentage">-%{{data.offer_percentage}}</span>
                        <b id="product-final-rate">â‚¹{{data.final_rate}}</b>
                      </div>
                      <div>
                        <span id="product-actual-rate">M.R.P â‚¹{{data.actual_rate}}</span>
                      </div>  
                    </div>
                    <!-- <p class="card-text">{{data.description}}</p> -->
                    <a href="{{data.affiliate_link}}" class="btn btn-primary" target="_blank">Go To</a>
                  </div>
                </div>
                {% endfor %}
              </div>
              
              <div class="paginator">
                <nav aria-label="Page navigation">
                    <ul class="pagination">
                        {% if product_data.has_previous %}
                            <li class="page-item">
                                <a class="page-link" href="?page={{ product_data.previous_page_number }}" aria-label="Previous">
                                    <span aria-hidden="true">&laquo;</span>
                                </a>
                            </li>
                        {% endif %}
            
                        {% for page_num in product_data.paginator.page_range %}
                            {% if page_num == product_data.number %}
                                <li class="page-item active">
                                    <a class="page-link" href="?page={{ page_num }}">{{ page_num }}</a>
                                </li>
                            {% else %}
                                {% if page_num > product_data.number|add:"-3" and page_num < product_data.number|add:"3" %}
                                    <li class="page-item">
                                        <a class="page-link" href="?page={{ page_num }}">{{ page_num }}</a>
                                    </li>
                                {% endif %}
                            {% endif %}
                        {% endfor %}
            
                        {% if product_data.has_next %}
                            <li class="page-item">
                                <a class="page-link" href="?page={{ product_data.next_page_number }}" aria-label="Next">
                                    <span aria-hidden="true">&raquo;</span>
                                </a>
                            </li>
                        {% endif %}
                    </ul>
                </nav>
            </div>
            
            </div>
            
          
          

        </div>
    </div>
    
    

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script> -->
    
    <!-- Option 2: Separate Popper and Bootstrap JS -->
    
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
   
  </body>
</html>